{% extends 'user_profile/base.html' %}
{% load static %}

{% block js_bottom %}
    {% if message %}
    <script>
        alert.show(alert.messageType.success, '{{ message }}', 'Bonus');
    </script>
    {% endif %}
{% endblock %}

{% block wallet_content %}
<div class="wallet__boxes">
    <div class="row">
        <div class="col-lg-6">
            <div class="wallet__boxes-box1">
                <div class="wallet__boxes-box1-photo">
                    <img src="{{ user.photo.url }}" alt="" class="">
                </div>
                <div class="wallet__boxes-box1-body">
                    <div class="wallet__boxes-box1-info">
                        <p>
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11.2033 10.0074L8.97423 8.89303C8.764 8.7878 8.63333 8.5764 8.63333 8.3412V7.5523C8.68676 7.48697 8.743 7.41253 8.8011 7.3304C9.0902 6.92207 9.3219 6.46753 9.49036 5.9773C9.8196 5.82633 10.0333 5.50083 10.0333 5.13333V4.2C10.0333 3.9753 9.94933 3.7576 9.8 3.5875V2.3464C9.81306 2.21807 9.8644 1.45413 9.31186 0.8239C8.8326 0.2772 8.0549 0 7 0C5.9451 0 5.1674 0.2772 4.68813 0.823667C4.1356 1.4539 4.18693 2.21807 4.2 2.3464V3.5875C4.05066 3.7576 3.96666 3.9753 3.96666 4.2V5.13333C3.96666 5.4173 4.0957 5.68213 4.31596 5.85877C4.5297 6.70507 4.977 7.34277 5.13333 7.5474V8.3195C5.13333 8.54537 5.01013 8.75257 4.81203 8.86083L2.73046 9.99623C2.05356 10.3656 1.63333 11.0735 1.63333 11.8445V12.6C1.63333 13.7074 5.14383 14 7 14C8.85616 14 12.3667 13.7074 12.3667 12.6V11.89C12.3667 11.0878 11.9208 10.3663 11.2033 10.0074Z" fill="currentcolor"/>
                            </svg>
                            {{user.username}}
                        </p>
                        <p>
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.9219 1.75146H1.07806C0.484388 1.75146 0 2.23585 0 2.82952V11.1705C0 11.7641 0.484388 12.2485 1.07806 12.2485H12.9219C13.5156 12.2485 14 11.7641 14 11.1705V2.82952C14 2.23585 13.5156 1.75146 12.9219 1.75146ZM12.7654 2.54893L7.07384 7.41644L1.38228 2.54893H12.7654ZM13.2025 11.1705C13.2025 11.324 13.0755 11.451 12.9219 11.451H1.07806C0.924473 11.451 0.797468 11.324 0.797468 11.1705V3.0983L6.81392 8.24345C6.81688 8.2464 6.82279 8.24935 6.82574 8.25231C6.82869 8.25526 6.8346 8.25822 6.83755 8.26117C6.84641 8.26708 6.85232 8.27298 6.86118 8.27594C6.86414 8.27889 6.86709 8.27889 6.87004 8.28184C6.88186 8.28775 6.89367 8.29366 6.90549 8.29957C6.90844 8.29957 6.91139 8.30252 6.91435 8.30252C6.92321 8.30547 6.93207 8.31138 6.94388 8.31433C6.94684 8.31433 6.95274 8.31729 6.9557 8.31729C6.96456 8.32024 6.97342 8.32319 6.98228 8.32319C6.98523 8.32319 6.99114 8.32615 6.99409 8.32615C7.00295 8.3291 7.01477 8.3291 7.02363 8.33206C7.02658 8.33206 7.02954 8.33206 7.03249 8.33206C7.0443 8.33206 7.05907 8.33501 7.07089 8.33501C7.0827 8.33501 7.09747 8.33501 7.10928 8.33206C7.11224 8.33206 7.11519 8.33206 7.11814 8.33206C7.127 8.33206 7.13882 8.3291 7.14768 8.32615C7.15063 8.32615 7.15654 8.32319 7.15949 8.32319C7.16835 8.32024 7.17722 8.31729 7.18608 8.31729C7.18903 8.31729 7.19494 8.31433 7.19789 8.31433C7.20675 8.31138 7.21561 8.30843 7.22743 8.30252C7.23038 8.30252 7.23333 8.29957 7.23629 8.29957C7.2481 8.29366 7.25992 8.28775 7.27173 8.28184C7.27468 8.27889 7.27764 8.27889 7.28059 8.27594C7.28945 8.27003 7.29536 8.26708 7.30422 8.26117C7.30717 8.25822 7.31308 8.25526 7.31603 8.25231C7.31899 8.24935 7.32489 8.2464 7.32785 8.24345L13.2025 3.2253V11.1705Z" fill="currentcolor"/>
                            </svg>
                            {{user.email}}
                        </p>
                        <p>
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3.06246 10.0625C2.51443 10.0624 1.97647 9.91522 1.5047 9.63634C1.03293 9.35747 0.64463 8.95711 0.380317 8.47703C0.116004 7.99695 -0.0146412 7.45473 0.00200919 6.90696C0.0186596 6.35918 0.181996 5.8259 0.474979 5.36276C0.767963 4.89962 1.17986 4.52358 1.6677 4.27387C2.15553 4.02417 2.70144 3.90994 3.24847 3.94312C3.7955 3.97629 4.3236 4.15564 4.77769 4.46247C5.23178 4.76929 5.59522 5.19235 5.83009 5.6875H12.25L13.5625 7L12.25 8.3125L11.375 7.4375L10.5 8.3125L9.62496 7.4375L8.74996 8.3125L7.87496 7.4375L6.99996 8.3125H5.83009C5.58167 8.83621 5.18972 9.27867 4.6998 9.58845C4.20988 9.89824 3.64211 10.0626 3.06246 10.0625V10.0625ZM2.18746 7.875C2.41953 7.875 2.64209 7.78281 2.80618 7.61872C2.97028 7.45462 3.06246 7.23207 3.06246 7C3.06246 6.76794 2.97028 6.54538 2.80618 6.38128C2.64209 6.21719 2.41953 6.125 2.18746 6.125C1.9554 6.125 1.73284 6.21719 1.56874 6.38128C1.40465 6.54538 1.31246 6.76794 1.31246 7C1.31246 7.23207 1.40465 7.45462 1.56874 7.61872C1.73284 7.78281 1.9554 7.875 2.18746 7.875V7.875Z" fill="currentcolor"/>
                            </svg>
                            ID: {{user.id}}
                        </p>
                    </div>
                    <div class="wallet__boxes-box1-balance">
                        <p class="wallet__boxes-box1-balance-text">Total Balance</p>
                        <p class="wallet__boxes-box1-balance-amount" id="wallet_page">0 USD</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="wallet__boxes-box2">
                <img src="{% static 'images/gift.svg' %}">
                <div class="wallet_boxes-box2-body">
                    <p class="wallet_boxes-box2-body-text">Use bonus promo code</p>
                    {{ form.code.errors }}
                    {% if success %}
                    <style>
                        .success {
                            margin-bottom: 5px;
                        }

                        .success li {
                            color: var(--success-text);
                        }
                    </style>
                    <ul class="success">
                        <li>Bonus code activated!</li>
                    </ul>
                    {% endif %}
                    <form class="d-flex" action="{% url 'user_profile:wallet' %}" method="post">
                        {% csrf_token %}
                        <!-- <input class="wallet_boxes-box2-body-input" type="text" name="promo" id="promo"> -->
                        {{ form.code }}
                        <button class="wallet_boxes-box2-body-button">Activate</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="wallet__controls">
    <div class="row">
        <div class="col-lg-6 d-flex align-items-center">
            <div class="wallet__controls-search">
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="wallet__controls-search-icon">
                    <g clip-path="url(#clip0_1_194)">
                    <path d="M11.4906 10.0368L8.13542 6.57118C8.50741 5.89921 8.69462 5.14321 8.69462 4.38959C8.69462 3.26638 8.28182 2.14317 7.45383 1.28878C6.64981 0.458403 5.57942 0 4.4394 0C3.3018 0 2.23141 0.458403 1.42741 1.2888C-0.228591 2.99759 -0.228591 5.7816 1.42741 7.49042C2.23141 8.32082 3.30183 8.77922 4.4394 8.77922C5.193 8.77922 5.91541 8.58003 6.5514 8.20324L9.89702 11.6592C10.1082 11.88 10.3914 12 10.6938 12C10.9962 12 11.277 11.88 11.4906 11.6592C11.9226 11.2128 11.9226 10.4832 11.4906 10.0368ZM4.43996 7.9539C2.5429 7.9539 0.999427 6.35495 0.999427 4.38954C0.999427 2.42422 2.5429 0.825272 4.43996 0.825272C6.33712 0.825272 7.88062 2.42422 7.88062 4.38954C7.8806 6.35495 6.33712 7.9539 4.43996 7.9539Z" fill="currentcolor"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_1_194">
                    <rect width="12" height="12" fill="white"/>
                    </clipPath>
                    </defs>
                </svg>
                <input class="wallet__controls-input" type="text" name="search" id="search">
            </div>
            <input class="wallet__controls-checkbox" type="checkbox" name="hide" id="hide">
            <p class="wallet__controls-text">Hide zero balances</p>
        </div>
        <div class="col-lg-6 d-flex justify-content-end wallet__buttons">
            <a class="wallet__controls-button" href="{% url 'user_profile:deposit' %}">Deposit</a>
            <a class="wallet__controls-button" href="{% url 'user_profile:withdraw' %}">Withdraw</a>
            <a class="wallet__controls-button" href="{% url 'user_profile:transfer' %}">Transfer</a>
        </div>
    </div>
</div>
<div class="wallet__tokens">
    <div class="row">
        <div class="col-12">
            <table>
                <thead class="wallet__tokens-head">
                    <tr>
                        <th>Coin</th>
                        <th>Balance</th>
                        <th>Equivalent (USD)</th>
                    </tr>
                </thead>
                <tbody class="wallet__tokens-body">
                    {% for item in data %}
                    <tr class="wallet__tokens-item">
                        <th>
                            <img class="wallet__rokens-body-icon" src="{{item.token.icon.url}}">
                            <span class="wallet_tokens-item-name">{{item.token.name}}</span>
                            <span class="wallet__rokens-body-tag">{{item.token.tag}}</span>
                        </th>
                        <td class="wallet__tokens-item-amount" id="amount_{{item.token.tag}}">{{item.amount}}</td>
                        <td id="eq_{{item.token.tag}}">{{item.amount}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}